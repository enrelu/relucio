---
---
<div class="h-full flex flex-col">
    <div class="mb-4">
        <h3 class="text-xl font-bold text-zinc-900 dark:text-zinc-100 mb-2">Analizador de Contraseñas</h3>
        <p class="text-sm text-zinc-600 dark:text-zinc-400">Comprueba la seguridad de tu clave antes de usarla.</p>
    </div>

    <div class="flex-grow space-y-4">
        <div>
            <input type="text" id="strength-input" placeholder="Escribe tu contraseña..." 
                class="w-full px-4 py-3 rounded-lg bg-zinc-100 dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-zinc-900 dark:text-zinc-100 focus:outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all font-mono" />
        </div>

        <div class="space-y-2">
            <div class="flex justify-between text-xs font-bold uppercase tracking-widest text-zinc-500 dark:text-zinc-400">
                <span>Robustez</span>
                <span id="strength-text">---</span>
            </div>
            <div class="h-2 w-full bg-zinc-200 dark:bg-zinc-700 rounded-full overflow-hidden">
                <div id="strength-bar" class="h-full w-0 bg-red-500 transition-all duration-300"></div>
            </div>
        </div>

        <ul id="strength-feedback" class="text-sm space-y-1 text-zinc-600 dark:text-zinc-400 list-disc list-inside">
            <li>Usa al menos 8 caracteres.</li>
        </ul>
    </div>
</div>

<script>
    const input = document.getElementById('strength-input');
    const bar = document.getElementById('strength-bar');
    const text = document.getElementById('strength-text');
    const feedback = document.getElementById('strength-feedback');

    function checkStrength(password) {
        let score = 0;
        let suggestions = [];

        if (!password) return { score: 0, suggestions: ['Usa al menos 8 caracteres.'] };

        if (password.length >= 8) score++;
        if (password.length >= 12) score++;
        if (/[A-Z]/.test(password)) score++;
        if (/[0-9]/.test(password)) score++;
        if (/[^A-Za-z0-9]/.test(password)) score++;

        if (password.length < 8) suggestions.push('Demasiado corta (mínimo 8).');
        if (!/[A-Z]/.test(password)) suggestions.push('Añade mayúsculas.');
        if (!/[0-9]/.test(password)) suggestions.push('Añade números.');
        if (!/[^A-Za-z0-9]/.test(password)) suggestions.push('Añade símbolos (!@#$).');

        return { score, suggestions };
    }

    input.addEventListener('input', (e) => {
        const val = e.target.value;
        const result = checkStrength(val);
        
        // Update Bar
        const percentage = Math.min((result.score / 5) * 100, 100);
        bar.style.width = `${percentage}%`;
        
        // Colors
        if (result.score <= 1) {
            bar.className = 'h-full bg-red-500 transition-all duration-300';
            text.textContent = 'Malo';
            text.className = 'text-red-500';
        } else if (result.score <= 3) {
            bar.className = 'h-full bg-yellow-500 transition-all duration-300';
            text.textContent = 'Decente';
            text.className = 'text-yellow-500';
        } else {
            bar.className = 'h-full bg-green-500 transition-all duration-300';
            text.textContent = 'Fuerte';
            text.className = 'text-green-500';
        }

        // Feedback
        feedback.innerHTML = '';
        if (result.suggestions.length > 0) {
            result.suggestions.forEach(s => {
                const li = document.createElement('li');
                li.textContent = s;
                feedback.appendChild(li);
            });
        } else {
             const li = document.createElement('li');
             li.textContent = '¡Parece una buena contraseña!';
             li.className = 'text-green-600 dark:text-green-400 font-medium list-none';
             feedback.appendChild(li);
        }
    });
</script>
